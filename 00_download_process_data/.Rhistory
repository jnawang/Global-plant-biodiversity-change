plot(sinkR_ESM245/richnessP)
plot(sinkR_ESM370/richnessP)
plot(sinkR_ESM585/richnessP)
#
# contracting and expanding
contraction_ESM126 <- terra::rast('/Users/junnawang/Downloads/richness_maxe/range_contractionR_ESM_126_2081-2100.tif')
contraction_ESM245 <- terra::rast('/Users/junnawang/Downloads/richness_maxe/range_contractionR_ESM_245_2081-2100.tif')
contraction_ESM370 <- terra::rast('/Users/junnawang/Downloads/richness_maxe/range_contractionR_ESM_370_2081-2100.tif')
contraction_ESM585 <- terra::rast('/Users/junnawang/Downloads/richness_maxe/range_contractionR_ESM_585_2081-2100.tif')
plot(contraction_ESM126/richnessP)
plot(contraction_ESM245/richnessP)
plot(contraction_ESM370/richnessP)
plot(contraction_ESM585/richnessP)
#
expansion_ESM126 <- terra::rast('/Users/junnawang/Downloads/richness_maxe/range_expansionR_ESM_126_2081-2100.tif')
expansion_ESM245 <- terra::rast('/Users/junnawang/Downloads/richness_maxe/range_expansionR_ESM_245_2081-2100.tif')
expansion_ESM370 <- terra::rast('/Users/junnawang/Downloads/richness_maxe/range_expansionR_ESM_370_2081-2100.tif')
expansion_ESM585 <- terra::rast('/Users/junnawang/Downloads/richness_maxe/range_expansionR_ESM_585_2081-2100.tif')
plot(expansion_ESM126/richnessP)
plot(expansion_ESM245/richnessP)
plot(expansion_ESM370/richnessP)
plot(expansion_ESM585/richnessP)
#
# Retraction
Retraction_ESM126 <- terra::rast('/Users/junnawang/Downloads/richness_maxe/retraction_ESM_126_2081-2100.tif')
Retraction_ESM245 <- terra::rast('/Users/junnawang/Downloads/richness_maxe/retraction_ESM_245_2081-2100.tif')
Retraction_ESM370 <- terra::rast('/Users/junnawang/Downloads/richness_maxe/retraction_ESM_370_2081-2100.tif')
Retraction_ESM585 <- terra::rast('/Users/junnawang/Downloads/richness_maxe/retraction_ESM_585_2081-2100.tif')
plot(Retraction_ESM126/richnessP)
plot(Retraction_ESM245/richnessP)
plot(Retraction_ESM370/richnessP)
plot(Retraction_ESM585/richnessP)
#
#
richnessF_ESM126 <- terra::rast('/Users/junnawang/Downloads/richness_maxe/richnessF_ESM_126_2081-2100.tif')
richnessF_ESM245 <- terra::rast('/Users/junnawang/Downloads/richness_maxe/richnessF_ESM_245_2081-2100.tif')
richnessF_ESM370 <- terra::rast('/Users/junnawang/Downloads/richness_maxe/richnessF_ESM_370_2081-2100.tif')
richnessF_ESM585 <- terra::rast('/Users/junnawang/Downloads/richness_maxe/richnessF_ESM_585_2081-2100.tif')
#
richnessPF_ESM126 <- terra::rast('/Users/junnawang/Downloads/richness_maxe/richness_PresFut_ESM_126_2081-2100.tif')
richnessPF_ESM245 <- terra::rast('/Users/junnawang/Downloads/richness_maxe/richness_PresFut_ESM_245_2081-2100.tif')
richnessPF_ESM370 <- terra::rast('/Users/junnawang/Downloads/richness_maxe/richness_PresFut_ESM_370_2081-2100.tif')
richnessPF_ESM585 <- terra::rast('/Users/junnawang/Downloads/richness_maxe/richness_PresFut_ESM_585_2081-2100.tif')
# sink all future
sinkF_all_ESM126 <- terra::rast('/Users/junnawang/Downloads/richness_maxe/sinkF_all_ESM_126_2081-2100.tif')
sinkF_all_ESM245 <- terra::rast('/Users/junnawang/Downloads/richness_maxe/sinkF_all_ESM_245_2081-2100.tif')
sinkF_all_ESM370 <- terra::rast('/Users/junnawang/Downloads/richness_maxe/sinkF_all_ESM_370_2081-2100.tif')
sinkF_all_ESM585 <- terra::rast('/Users/junnawang/Downloads/richness_maxe/sinkF_all_ESM_585_2081-2100.tif')
#
# dispersal limitation is much smaller; but dispersal limitation increases with warming rates!
plot((richnessF_ESM126-richnessR_ESM126) / mask(sinkF_all_ESM126, bio1_no_lakes), range = c(0, 1))
plot((richnessF_ESM245-richnessR_ESM245) / mask(sinkF_all_ESM245, bio1_no_lakes), range = c(0, 1))
plot((richnessF_ESM370-richnessR_ESM370) / mask(sinkF_all_ESM370, bio1_no_lakes), range = c(0, 1))
plot((richnessF_ESM585-richnessR_ESM585) / mask(sinkF_all_ESM585, bio1_no_lakes), range = c(0, 1))
plot((richnessF_ESM126-richnessR_ESM126) / mask(sinkF_all_ESM126, bio1_no_lakes)) # , range = c(0, 1)
plot((richnessF_ESM245-richnessR_ESM245) / mask(sinkF_all_ESM245, bio1_no_lakes))
plot((richnessF_ESM370-richnessR_ESM370) / mask(sinkF_all_ESM370, bio1_no_lakes))
plot((richnessF_ESM585-richnessR_ESM585) / mask(sinkF_all_ESM585, bio1_no_lakes))
plot(bio1_no_lakes)
knitr::opts_chunk$set(echo = TRUE)
# the meaning of ensemble average, the average of multiple models.
# references: CMIP1 evaluation and intercomparison of coupled climate models; Lambert & Boer, 2001
# ensemble average was recalculated on 10/5/2025, because old data from worldclimate had a big problem. New data was downloaded and used.
# we found problems with the projection function for ESM images. It is addressed now.
library(terra)
ssps  <- c("126", "245", "370", "585")
times <- c("2021-2040", "2041-2060", "2061-2080", "2081-2100")                  # only care about one time period
gcms  <- c("ACCESS", "MIROC6", "MPI")
root  <- "/Users/junnawang/UCDLab/Biodiversity/data/climate/future/"
#
template <- terra::rast('/Users/junnawang/UCDLab/Biodiversity/SDM/preds/bios_pres/bio1.tif')
itime = 4
issp  = 1
print(paste0('ssp', ssps[issp]))
path.write = paste0(root, times[itime], '/', ssps[issp], '/')
path.read  = paste0(path.write, 'wc2.1_5m/')
files <- list.files(path.read, full.names = T)
nfile <- length(files)
r     <- terra::rast(files)
i = 1
library(terra)
ssps  <- c("126", "245", "370", "585")
times <- c("2021-2040", "2041-2060", "2061-2080", "2081-2100")                  # only care about one time period
gcms  <- c("ACCESS", "MIROC6", "MPI")
root  <- "/Users/junnawang/UCDLab/Biodiversity/data/climate/future/"
#
template <- terra::rast('/Users/junnawang/UCDLab/Biodiversity/data/climate/bioclimate_land_only/bio1_remove_lakes.tif')
itime = 4
issp  = 1
template
library(terra)
ssps  <- c("126", "245", "370", "585")
times <- c("2021-2040", "2041-2060", "2061-2080", "2081-2100")                  # only care about one time period
gcms  <- c("ACCESS", "MIROC6", "MPI")
root  <- "/Users/junnawang/UCDLab/Biodiversity/data/climate/future/"
#
template <- terra::rast('/Users/junnawang/UCDLab/Biodiversity/data/climate/bioclimate_land_only/bio1_remove_lakes.tif')
crs_moll <- '+proj=moll +lon_0=0 +x_0=0 +y_0=0 +datum=WGS84 +units=m +no_defs'
#
itime = 4
issp  = 1
library(terra)
ssps  <- c("126", "245", "370", "585")
times <- c("2021-2040", "2041-2060", "2061-2080", "2081-2100")                  # only care about one time period
gcms  <- c("ACCESS", "MIROC6", "MPI")
root  <- "/Users/junnawang/UCDLab/Biodiversity/data/climate/future/"
#
template <- terra::rast('/Users/junnawang/UCDLab/Biodiversity/data/climate/bioclimate_land_only/bio1_remove_lakes.tif')
crs_moll <- '+proj=moll +lon_0=0 +x_0=0 +y_0=0 +datum=WGS84 +units=m +no_defs'
#
itime = 4
issp  = 1
print(paste0('ssp', ssps[issp]))
path.write = paste0(root, times[itime], '/', ssps[issp], '/')
path.read  = paste0(path.write, 'wc2.1_5m/')
files <- list.files(path.read, full.names = T)
nfile <- length(files)
r     <- terra::rast(files)
# Okay, I finally see how this works! This is a long list of single layer raster.
# Furthermore, some GCM models does not call it bio**, but wc2**
# seven climate variables, further simplify the code
id <-  c(1, 2, 4, 12, 15, 17, 19)  #   c(10, 11, 16)
i = 1
series <- seq(from = i, to = nfile*19, by = 19)
for (j in series) {
print(mean(terra::values(r[[j]]), na.rm=T))
}
bioc_project <- terra::project(r[[series]], crs_moll)
bioc_project
plot(bioc_project)
plot(bioc_project[[5]])
bioc_project <- terra::resample(bioc_project, template)
plot(bioc_project[[5]])
bioc_project
bioc <- terra::app(bioc_project, mean)
plot(bioc)
bioc
i = 2
series <- seq(from = i, to = nfile*19, by = 19)
for (j in series) {
print(mean(terra::values(r[[j]]), na.rm=T))
}
# project to molledue; I have to project first, resample, and then average, 1/2/2025
bioc_project <- terra::project(r[[series]], crs_moll)
bioc_project <- terra::resample(bioc_project, template)
#
bioc <- terra::app(bioc_project, mean)
bioc
plot(bioc)
sum(!is.na(terra::values(bioc)))
sum(!is.na(terra::values(template)))
bioc <- terra::mask(bioc, template)
sum(!is.na(terra::values(bioc)))
plot(bioc)
plot(template)
plot(project(template, "+proj=longlat +datum=WGS84"))
plot(terra::rast('/Users/junnawang/Downloads/bio1_no_lakes.tif'))
plot(terra::rast('/Users/junnawang/Downloads/bio1_no_lakes.tif'))
library(geodata)
library(terra)
library(here)
library(rnaturalearth)
bio1_moll <- terra::rast('/Users/junnawang/UCDLab/Biodiversity/data/climate/current/bio1.tif')
plot(bio1_moll)
# load new bio1
bio1 <- worldclim_global(var="bio",res = 5,path = here(), version = "2.1")
bio1 <- bio1$wc2.1_5m_bio_1
plot(bio1)
# download lakes
lakes110 <- ne_download(scale = 110, type = "lakes", category = "physical")
plot(lakes110, col = "blue")
lakes110
lakes110$name
# Load global water bodies (includes lakes)
lakes <- ne_download(scale = "large", type = "lakes", category = "physical", returnclass = "sf")
lakes$name
sum( lakes$name == "Caspian")
sum( lakes$name == "Caspian", na.rm=T)
sum( lakes$name == "Caspian Sea", na.rm=T)
sum( tolower(lakes$name) == "caspian sea", na.rm=T)
sum(repl('caspian', tolower(lakes$name)), na.rm=T)
sum(grepl('caspian', tolower(lakes$name)), na.rm=T)
sum(grepl('poyang', tolower(lakes$name)), na.rm=T)
sum(grepl('sea', tolower(lakes$name)), na.rm=T)
which(grepl('sea', tolower(lakes$name)), na.rm=T)
which(grepl('sea', tolower(lakes$name)))
lakes$name[c(1281,1298,1306,1347,1349)]
lakes <- ne_download(scale = "large", type = "lakes", category = "physical", returnclass = "sf")
# Sort lakes by area and select the top 30
largest_lakes <- lakes %>%
arrange(desc(scalerank)) %>%
slice(1:30)
library(tidyverse)
lakes <- ne_download(scale = "large", type = "lakes", category = "physical", returnclass = "sf")
# Sort lakes by area and select the top 30
largest_lakes <- lakes %>%
arrange(desc(scalerank)) %>%
slice(1:30)
largest_lakes
largest_lakes$name
#
plot(vect('/Users/junnawang/Downloads/8ark3lcpfw_GLWD_level1/glwd_1.shp'))
plot(vect('/Users/junnawang/Downloads/8ark3lcpfw_GLWD_level1/glwd_1.shp'))
knitr::opts_chunk$set(echo = TRUE)
# the meaning of ensemble average, the average of multiple models.
# references: CMIP1 evaluation and intercomparison of coupled climate models; Lambert & Boer, 2001
# ensemble average was recalculated on 10/5/2025, because old data from worldclimate had a big problem. New data was downloaded and used.
# we found problems with the projection function for ESM images. It is addressed now.
library(terra)
rm(list=ls())
#
ssps  <- c("126", "245", "370", "585")
times <- c("2021-2040", "2041-2060", "2061-2080", "2081-2100")                  # only care about one time period
gcms  <- c("ACCESS", "MIROC6", "MPI")
root  <- "/Users/junnawang/UCDLab/Biodiversity/data/climate/future/"
#
template <- terra::rast('/Users/junnawang/UCDLab/Biodiversity/data/climate/bioclimate_land_only/bulk_avg.tif')
# masklake <- terra::rast('/Users/junnawang/UCDLab/Biodiversity/data/climate/bioclimate_land_only/bio1_nolakes_moll.tif')
masklake <- terra::rast('/Users/junnawang/UCDLab/Biodiversity/data/climate/current/bio1.tif')
crs_moll <- "+proj=moll +lon_0=0 +x_0=0 +y_0=0 +datum=WGS84 +units=m +no_defs"
#
# itime = 4
# issp  = 3
#
# seven climate variables, further simplify the code
id <-  c(1, 2, 4, 12, 15, 17, 19)  #   c(10, 11, 16)
#
for (itime in 4:length(times)) {
for (issp in 1:length(ssps)) {
print(paste0('ssp', ssps[issp]))
path.write = paste0(root, times[itime], '/', ssps[issp], '/')
path.read  = paste0(path.write, 'wc2.1_5m/')
files <- list.files(path.read, full.names = T)
nfile <- length(files)
r     <- terra::rast(files)
# Okay, I finally see how this works! This is a long list of single layer raster.
# Furthermore, some GCM models does not call it bio**, but wc2**
for (i in id) {
series <- seq(from = i, to = nfile*19, by = 19)
for (j in series) {
print(mean(terra::values(r[[j]]), na.rm=T))
}
# project to molledue; I have to project first, resample, and then average, 1/2/2025; otherwise projection will miss some land grids.
bioc_project <- terra::project(r[[series]], crs_moll)
bioc_project <- terra::resample(bioc_project, template)
#
bioc <- terra::app(bioc_project, mean)
# mask inland water grids
bioc <- terra::mask(bioc, masklake)
# print(plot(bioc))
# use the correct variable name
names(bioc) <- paste0('bio', i, '_ESM_', ssps[issp], '_', times[itime])
#
writeRaster(bioc, filename = paste0(path.write, 'bio', i, '_ESM_', ssps[issp], '_', times[itime], '.tif'), overwrite=TRUE)
print(paste0('Biovar', i))
}
# I should check if each model bio makes sense before averaging because they may make mistakes!
for (igcm in 1:length(gcms)) {
file  <- files[grepl(gcms[igcm], files)]
r.gcm <- terra::rast(file)
r.gcm <- terra::project(r.gcm[[id]],  crs_moll)
r.gcm <- terra::resample(r.gcm, template)
# mask inland water grids
r.gcm <- terra::mask(r.gcm, masklake)
if (igcm !=3) {
name <- paste0('bio', id, '_', gcms[igcm], '_', ssps[issp], '_', times[itime])
} else {
name <- paste0('bio', id, '_MPIESM_', ssps[issp], '_', times[itime])
}
names(r.gcm) <- name
#
for (i in 1:length(id)) {
writeRaster(r.gcm[[i]], filename = paste0(path.write, name[i], '.tif'), overwrite=TRUE)
}
}
}
}
biovar <- c('bio1', 'bio12', 'bio15', 'bio17', 'bio19', 'bio2', 'bio4')
bio_current <- terra::rast(paste0('/Users/junnawang/UCDLab/Biodiversity/data/climate/current/', biovar, '.tif'))
#
bio_future <- terra::rast('/Users/junnawang/UCDLab/Biodiversity/data/climate/future/2081-2100/126/bio1_ACCESS_126_2081-2100.tif')
#
sum(!is.na(terra::values(bio_future)))
#
sum(!is.na(terra::values(bio_current[[1]])))
#
plot(bio_current[[1]])
plot(bio_future)
#
bio_future_mask <- terra::mask(bio_future, bio_current[[1]])
sum(!is.na(terra::values(bio_future_mask)))
id_diff <- setdiff(which(!is.na(terra::values(bio_current[[1]]))), which(!is.na(terra::values(bio_future_mask))))
#
id_diff_adjacent <- adjacent(bio_future, cells=id_diff, directions="16")
#
terra::values(bio_future)[id_diff_adjacent]
#
id_diff_xy <- xyFromCell(bio_current[[1]], id_diff)
#
extract_values <- terra::extract(bio_future, id_diff_xy, method = "bilinear")    # "bilinear"
biovar <- c('bio1', 'bio12', 'bio15', 'bio17', 'bio19', 'bio2', 'bio4')
bio_current <- terra::rast(paste0('/Users/junnawang/UCDLab/Biodiversity/data/climate/current/', biovar, '.tif'))
#
bio_future <- terra::rast('/Users/junnawang/UCDLab/Biodiversity/data/climate/future/2081-2100/126/bio19_ACCESS_126_2081-2100.tif')
#
sum(!is.na(terra::values(bio_future)))
#
sum(!is.na(terra::values(bio_current[[1]])))
#
plot(bio_current[[1]])
plot(bio_future)
#
bio_future_mask <- terra::mask(bio_future, bio_current[[1]])
sum(!is.na(terra::values(bio_future_mask)))
# the meaning of ensemble average, the average of multiple models.
# references: CMIP1 evaluation and intercomparison of coupled climate models; Lambert & Boer, 2001
# ensemble average was recalculated on 10/5/2025, because old data from worldclimate had a big problem. New data was downloaded and used.
# we found problems with the projection function for ESM images. It is addressed now.
library(terra)
rm(list=ls())
#
ssps  <- c("126", "245", "370", "585")
times <- c("2021-2040", "2041-2060", "2061-2080", "2081-2100")                  # only care about one time period
gcms  <- c("ACCESS", "MIROC6", "MPI")
root  <- "/Users/junnawang/UCDLab/Biodiversity/data/climate/future/"
#
template <- terra::rast('/Users/junnawang/UCDLab/Biodiversity/data/climate/bioclimate_land_only/bulk_avg.tif')
# masklake <- terra::rast('/Users/junnawang/UCDLab/Biodiversity/data/climate/bioclimate_land_only/bio1_nolakes_moll.tif')
masklake <- terra::rast('/Users/junnawang/UCDLab/Biodiversity/data/climate/current/bio1.tif')
crs_moll <- "+proj=moll +lon_0=0 +x_0=0 +y_0=0 +datum=WGS84 +units=m +no_defs"
#
# itime = 4
# issp  = 3
#
# seven climate variables, further simplify the code
id <-  c(1, 2, 4, 12, 15, 17, 19)  #   c(10, 11, 16)
#
for (itime in 4:length(times)) {
for (issp in 1:length(ssps)) {
print(paste0('ssp', ssps[issp]))
path.write = paste0(root, times[itime], '/', ssps[issp], '/')
path.read  = paste0(path.write, 'wc2.1_5m/')
files <- list.files(path.read, full.names = T)
nfile <- length(files)
r     <- terra::rast(files)
# Okay, I finally see how this works! This is a long list of single layer raster.
# Furthermore, some GCM models does not call it bio**, but wc2**
for (i in id) {
series <- seq(from = i, to = nfile*19, by = 19)
for (j in series) {
print(mean(terra::values(r[[j]]), na.rm=T))
}
# project to molledue; I have to project first, resample, and then average, 1/2/2025; otherwise projection will miss some land grids.
bioc_project <- terra::project(r[[series]], crs_moll)
bioc_project <- terra::resample(bioc_project, template)
#
bioc <- terra::app(bioc_project, mean)
# mask inland water grids
bioc <- terra::mask(bioc, masklake)
# print(plot(bioc))
# use the correct variable name
names(bioc) <- paste0('bio', i, '_ESM_', ssps[issp], '_', times[itime])
#
writeRaster(bioc, filename = paste0(path.write, 'bio', i, '_ESM_', ssps[issp], '_', times[itime], '.tif'), overwrite=TRUE)
print(paste0('Biovar', i))
}
# I should check if each model bio makes sense before averaging because they may make mistakes!
for (igcm in 1:length(gcms)) {
file  <- files[grepl(gcms[igcm], files)]
r.gcm <- terra::rast(file)
r.gcm <- terra::project(r.gcm[[id]],  crs_moll)
r.gcm <- terra::resample(r.gcm, template)
# mask inland water grids
r.gcm <- terra::mask(r.gcm, masklake)
if (igcm !=3) {
name <- paste0('bio', id, '_', gcms[igcm], '_', ssps[issp], '_', times[itime])
} else {
name <- paste0('bio', id, '_MPIESM_', ssps[issp], '_', times[itime])
}
names(r.gcm) <- name
#
for (i in 1:length(id)) {
writeRaster(r.gcm[[i]], filename = paste0(path.write, name[i], '.tif'), overwrite=TRUE)
}
}
}
}
biovar <- c('bio1', 'bio12', 'bio15', 'bio17', 'bio19', 'bio2', 'bio4')
bio_current <- terra::rast(paste0('/Users/junnawang/UCDLab/Biodiversity/data/climate/current/', biovar, '.tif'))
#
bio_future <- terra::rast('/Users/junnawang/UCDLab/Biodiversity/data/climate/future/2081-2100/245/bio19_ACCESS_245_2081-2100.tif')
#
sum(!is.na(terra::values(bio_future)))
#
sum(!is.na(terra::values(bio_current[[1]])))
#
plot(bio_current[[1]])
plot(bio_future)
#
bio_future_mask <- terra::mask(bio_future, bio_current[[1]])
sum(!is.na(terra::values(bio_future_mask)))
biovar <- c('bio1', 'bio12', 'bio15', 'bio17', 'bio19', 'bio2', 'bio4')
bio_current <- terra::rast(paste0('/Users/junnawang/UCDLab/Biodiversity/data/climate/current/', biovar, '.tif'))
#
bio_future <- terra::rast('/Users/junnawang/UCDLab/Biodiversity/data/climate/future/2081-2100/245/bio1_ACCESS_245_2081-2100.tif')
#
sum(!is.na(terra::values(bio_future)))
#
sum(!is.na(terra::values(bio_current[[1]])))
#
plot(bio_current[[1]])
plot(bio_future)
biovar <- c('bio1', 'bio12', 'bio15', 'bio17', 'bio19', 'bio2', 'bio4')
bio_current <- terra::rast(paste0('/Users/junnawang/UCDLab/Biodiversity/data/climate/current/', biovar, '.tif'))
#
bio_future <- terra::rast('/Users/junnawang/UCDLab/Biodiversity/data/climate/future/2081-2100/370/bio1_ACCESS_370_2081-2100.tif')
#
sum(!is.na(terra::values(bio_future)))
#
sum(!is.na(terra::values(bio_current[[1]])))
#
plot(bio_current[[1]])
plot(bio_future)
#
biovar <- c('bio1', 'bio12', 'bio15', 'bio17', 'bio19', 'bio2', 'bio4')
bio_current <- terra::rast(paste0('/Users/junnawang/UCDLab/Biodiversity/data/climate/current/', biovar, '.tif'))
#
bio_future <- terra::rast('/Users/junnawang/UCDLab/Biodiversity/data/climate/future/2081-2100/370/bio19_ACCESS_370_2081-2100.tif')
#
sum(!is.na(terra::values(bio_future)))
#
sum(!is.na(terra::values(bio_current[[1]])))
#
plot(bio_current[[1]])
plot(bio_future)
#
biovar <- c('bio1', 'bio12', 'bio15', 'bio17', 'bio19', 'bio2', 'bio4')
bio_current <- terra::rast(paste0('/Users/junnawang/UCDLab/Biodiversity/data/climate/current/', biovar, '.tif'))
#
bio_future <- terra::rast('/Users/junnawang/UCDLab/Biodiversity/data/climate/future/2081-2100/370/bio1_ACCESS_370_2081-2100.tif')
#
sum(!is.na(terra::values(bio_future)))
#
sum(!is.na(terra::values(bio_current[[1]])))
#
plot(bio_current[[1]])
plot(bio_future)
biovar <- c('bio1', 'bio12', 'bio15', 'bio17', 'bio19', 'bio2', 'bio4')
bio_current <- terra::rast(paste0('/Users/junnawang/UCDLab/Biodiversity/data/climate/current/', biovar, '.tif'))
#
bio_future <- terra::rast('/Users/junnawang/UCDLab/Biodiversity/data/climate/future/2081-2100/585/bio1_ACCESS_585_2081-2100.tif')
#
sum(!is.na(terra::values(bio_future)))
#
sum(!is.na(terra::values(bio_current[[1]])))
#
plot(bio_current[[1]])
plot(bio_future)
biovar <- c('bio1', 'bio12', 'bio15', 'bio17', 'bio19', 'bio2', 'bio4')
bio_current <- terra::rast(paste0('/Users/junnawang/UCDLab/Biodiversity/data/climate/current/', biovar, '.tif'))
#
bio_future <- terra::rast('/Users/junnawang/UCDLab/Biodiversity/data/climate/future/2081-2100/585/bio1_ESM_585_2081-2100.tif')
#
sum(!is.na(terra::values(bio_future)))
#
sum(!is.na(terra::values(bio_current[[1]])))
#
plot(bio_current[[1]])
plot(bio_future)
biovar <- c('bio1', 'bio12', 'bio15', 'bio17', 'bio19', 'bio2', 'bio4')
bio_current <- terra::rast(paste0('/Users/junnawang/UCDLab/Biodiversity/data/climate/current/', biovar, '.tif'))
#
bio_future <- terra::rast('/Users/junnawang/UCDLab/Biodiversity/data/climate/future/2081-2100/370/bio1_ESM_370_2081-2100.tif')
#
sum(!is.na(terra::values(bio_future)))
#
sum(!is.na(terra::values(bio_current[[1]])))
#
plot(bio_current[[1]])
plot(bio_future)
#
bio_future_mask <- terra::mask(bio_future, bio_current[[1]])
sum(!is.na(terra::values(bio_future_mask)))
biovar <- c('bio1', 'bio12', 'bio15', 'bio17', 'bio19', 'bio2', 'bio4')
bio_current <- terra::rast(paste0('/Users/junnawang/UCDLab/Biodiversity/data/climate/current/', biovar, '.tif'))
#
bio_future <- terra::rast('/Users/junnawang/UCDLab/Biodiversity/data/climate/future/2081-2100/245/bio1_245_370_2081-2100.tif')
#
biovar <- c('bio1', 'bio12', 'bio15', 'bio17', 'bio19', 'bio2', 'bio4')
bio_current <- terra::rast(paste0('/Users/junnawang/UCDLab/Biodiversity/data/climate/current/', biovar, '.tif'))
#
bio_future <- terra::rast('/Users/junnawang/UCDLab/Biodiversity/data/climate/future/2081-2100/245/bio1_ESM_245_2081-2100.tif')
#
sum(!is.na(terra::values(bio_future)))
#
sum(!is.na(terra::values(bio_current[[1]])))
#
plot(bio_current[[1]])
plot(bio_future)
#
biovar <- c('bio1', 'bio12', 'bio15', 'bio17', 'bio19', 'bio2', 'bio4')
bio_current <- terra::rast(paste0('/Users/junnawang/UCDLab/Biodiversity/data/climate/current/', biovar, '.tif'))
#
bio_future <- terra::rast('/Users/junnawang/UCDLab/Biodiversity/data/climate/future/2081-2100/126/bio1_ESM_126_2081-2100.tif')
#
sum(!is.na(terra::values(bio_future)))
#
sum(!is.na(terra::values(bio_current[[1]])))
#
plot(bio_current[[1]])
plot(bio_future)
plot(bio_future)
